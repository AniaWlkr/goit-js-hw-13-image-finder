{"version":3,"sources":["webpack:///./templates/imageCard.hbs","webpack:///./js/api/apiService.js","webpack:///./js/settings/index.js","webpack:///./js/images-pagination/index.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","BASE_URL","API_KEY","IMG_PER_PAGE","page","query","pageUrl","fetch","resolve","ok","json","fetchImages","refs","form","document","querySelector","gallery","loadMoreBtn","images","this","currentPage","queryStr","scrollMarker","onFormSubmit","bind","loadMore","renderImages","hits","length","imagesMarkUp","imagesListTmpl","insertAdjacentHTML","classList","add","imagesApi","then","catch","err","console","log","lastElementChild","scrollIntoView","behavior","event","preventDefault","innerHTML","value","trim","scrollUpBtn","addEventListener","window","throttle","pageYOffset","documentElement","clientHeight","remove","scrollTo","top","left"],"mappings":"8EAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAeC,EAAO,WAAYC,EAAOZ,EAAUa,iBAAkBC,EAAiBd,EAAUc,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,wCACHJ,SAASP,EAAmI,OAAzHA,EAASS,EAAeZ,EAAQ,kBAA8B,MAAVD,EAAiBa,EAAeb,EAAO,gBAAkBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,eAAe,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACxU,QACAO,SAASP,EAAmH,OAAzGA,EAASS,EAAeZ,EAAQ,UAAsB,MAAVD,EAAiBa,EAAeb,EAAO,QAAUA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAChT,2HACAO,SAASP,EAAqH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAClT,iGACAO,SAASP,EAAqH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GACpT,8FACAO,SAASP,EAA2H,OAAjHA,EAASS,EAAeZ,EAAQ,cAA0B,MAAVD,EAAiBa,EAAeb,EAAO,YAAcA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,WAAW,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GAC7T,qGACAO,SAASP,EAA6H,OAAnHA,EAASS,EAAeZ,EAAQ,eAA2B,MAAVD,EAAiBa,EAAeb,EAAO,aAAeA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,YAAY,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GAChU,kCACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASL,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIiB,EAON,OAA+R,OAAtRA,GAPsBrB,EAAUc,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWd,EAAQ,QAAQkB,KAAe,MAAVnB,EAAiBA,EAAUD,EAAUO,aAAe,GAAIN,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUsB,QAAQ,EAAGlB,EAAM,GAAG,QAAUJ,EAAUuB,KAAK,KAAOnB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiBiB,EAAS,IAC/S,SAAU,K,kcC/BJG,ECAI,2BDAMC,ECCP,0CDDgBC,ECEX,G,iDDAhB,WAA2BC,EAAMC,GAAjC,+FACQC,EADR,GACqBL,EAAWC,EADhC,8CACqFG,EADrF,SACmGD,EADnG,aACoHD,EADpH,SAEwBI,MAAMD,GAF9B,WAEQE,EAFR,QAGeC,GAHf,sBAIUD,EAJV,uBAMeA,EAAQE,OANvB,oF,sBASeC,M,mEETTC,EAAO,CACXC,KAAMC,SAASC,cAAc,gBAC7BC,QAASF,SAASC,cAAc,YAChCE,YAAaH,SAASC,cAAc,oCCFhCG,EAAS,I,WDMb,aACEC,KAAKC,YAAc,EACnBD,KAAKE,SAAW,GAChBF,KAAKG,aAAe,KACpBH,KAAKI,aAAeJ,KAAKI,aAAaC,KAAKL,MAC3CA,KAAKM,SAAWN,KAAKM,SAASD,KAAKL,M,2BAGrCO,aAAA,YAAuB,IAARC,EAAQ,EAARA,KACb,GAAoB,IAAhBA,EAAKC,OAAc,KAAM,+CAE7B,IAAMC,EAAeC,IAAeH,GACpCf,EAAKI,QAAQe,mBAAmB,YAAaF,GAC7CjB,EAAKK,YAAYe,UAAUC,IAAI,e,EAGjCtB,YAAA,WACE,OAAOuB,EAAUf,KAAKC,YAAaD,KAAKE,UACvCc,KAAKhB,KAAKO,cACVU,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,EAG5BZ,SAAA,WAAW,WACTN,KAAKC,aAAe,EACpBD,KAAKG,aAAeV,EAAKI,QAAQwB,iBAEjCrB,KAAKR,cACFwB,MAAK,kBACR,EAAKb,aAAamB,eAAe,CAACC,SAAU,e,EAG9CnB,aAAA,SAAaoB,GACXA,EAAMC,iBACNzB,KAAKC,YAAc,EACnBR,EAAKI,QAAQ6B,UAAY,GAEzB1B,KAAKE,SAAWT,EAAKC,KAAKR,MAAMyC,MAAMC,OACjC5B,KAAKE,UAEVF,KAAKR,e,MC3CHC,EAAO,CACXC,KAAMC,SAASC,cAAc,gBAC7BE,YAAaH,SAASC,cAAc,mCACpCiC,YAAalC,SAASC,cAAc,eAkBtCH,EAAKC,KAAKoC,iBAAiB,SAAU/B,EAAOK,cAC5CX,EAAKK,YAAYgC,iBAAiB,QAAS/B,EAAOO,UAClDyB,OAAOD,iBAAiB,SAAUE,oBAjBlC,WACyBD,OAAOE,YACXtC,SAASuC,gBAAgBC,aAEd1C,EAAKoC,YAAYhB,UAAUC,IAAI,cAAerB,EAAKoC,YAAYhB,UAAUuB,OAAO,gBAaxD,MACxD3C,EAAKoC,YAAYC,iBAAiB,SAXlC,WACEC,OAAOM,SAAS,CACdC,IAAK,EACLC,KAAM,EACNhB,SAAU,gB","file":"main.a56a9f387abaa189f962.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"photo-card\\\">\\n  <img src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":11},\"end\":{\"line\":3,\"column\":27}}}) : helper)))\n    + \" alt=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":32},\"end\":{\"line\":3,\"column\":40}}}) : helper)))\n    + \" class=\\\"img\\\" />\\n  <div class=\\\"stats\\\">\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">thumb_up</i>\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":6},\"end\":{\"line\":7,\"column\":15}}}) : helper)))\n    + \"\\n    </p>\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">visibility</i>\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":6},\"end\":{\"line\":11,\"column\":15}}}) : helper)))\n    + \"\\n    </p>\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">comment</i>\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":6},\"end\":{\"line\":15,\"column\":18}}}) : helper)))\n    + \"\\n    </p>\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">cloud_download</i>\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":6},\"end\":{\"line\":19,\"column\":19}}}) : helper)))\n    + \"\\n    </p>\\n  </div>\\n</div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":23,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import settings from '../settings/index.js';\nconst { BASE_URL, API_KEY, IMG_PER_PAGE } = settings;\n\nasync function fetchImages(page, query) {\n  const pageUrl = `${BASE_URL}${API_KEY}&image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=${IMG_PER_PAGE}`;\n  const resolve = await fetch(pageUrl);\n  if (!resolve.ok) { \n    throw resolve;\n  }\n  return await resolve.json();\n}\n\nexport default fetchImages;\n","export default {\n  BASE_URL: 'https://pixabay.com/api/',\n  API_KEY: '?key=20668572-c55967f2cfb5248074fb94654',\n  IMG_PER_PAGE: 12,\n};","import imagesApi from '../api/apiService';\nimport imagesListTmpl from '../../templates/imageCard.hbs';\n\nconst refs = { \n  form: document.querySelector('#search-form'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('button[data-action=\"load-more\"]'),\n};\n\nclass imagesPagination { \n  constructor() {\n    this.currentPage = 1;\n    this.queryStr = '';\n    this.scrollMarker = null;\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n  }\n  \n  renderImages({ hits }) { \n    if (hits.length === 0) throw 'Nothing was found. Please try another search';\n    \n    const imagesMarkUp = imagesListTmpl(hits);\n    refs.gallery.insertAdjacentHTML('beforeend', imagesMarkUp) ;\n    refs.loadMoreBtn.classList.add('is-visible');\n  }\n  \n  fetchImages() { \n    return imagesApi(this.currentPage, this.queryStr)\n    .then(this.renderImages)\n    .catch(err => console.log(err));\n  }\n  \n  loadMore() { \n    this.currentPage += 1;\n    this.scrollMarker = refs.gallery.lastElementChild;\n    \n    this.fetchImages()\n      .then(() =>\n    this.scrollMarker.scrollIntoView({behavior: \"smooth\" }));\n  }\n\n  onFormSubmit(event) { \n    event.preventDefault();\n    this.currentPage = 1;\n    refs.gallery.innerHTML = '';\n\n    this.queryStr = refs.form.query.value.trim();\n    if (!this.queryStr) return;\n\n    this.fetchImages();\n  }\n}\n\nexport default imagesPagination;\n\n","import './styles.css';\nimport { throttle } from \"lodash\";\nimport imagesPagination from './js/images-pagination';\n\nconst images = new imagesPagination();\n\nconst refs = { \n  form: document.querySelector('#search-form'),\n  loadMoreBtn: document.querySelector('button[data-action=\"load-more\"]'),\n  scrollUpBtn: document.querySelector('.scroll-up'),\n};\n\nfunction trackScroll() { \n  const scrolledOffset = window.pageYOffset;\n  const viewHeight = document.documentElement.clientHeight;\n\n  scrolledOffset > viewHeight ? refs.scrollUpBtn.classList.add('is-visible'): refs.scrollUpBtn.classList.remove('is-visible');\n}\n\nfunction onScrollUp() {  \n  window.scrollTo({\n    top: 0,\n    left: 0,\n    behavior: 'smooth'\n  });\n}\n\nrefs.form.addEventListener('submit', images.onFormSubmit);\nrefs.loadMoreBtn.addEventListener('click', images.loadMore);\nwindow.addEventListener('scroll', throttle(trackScroll, 300));\nrefs.scrollUpBtn.addEventListener('click', onScrollUp);"],"sourceRoot":""}